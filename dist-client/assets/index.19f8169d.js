var Zt=Object.defineProperty,Ht=Object.defineProperties;var Gt=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var Kt=Object.prototype.hasOwnProperty,Jt=Object.prototype.propertyIsEnumerable;var Ae=(n,u,l)=>u in n?Zt(n,u,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[u]=l,xe=(n,u)=>{for(var l in u||(u={}))Kt.call(u,l)&&Ae(n,l,u[l]);if(ke)for(var l of ke(u))Jt.call(u,l)&&Ae(n,l,u[l]);return n},Re=(n,u)=>Ht(n,Gt(u));import{d as De,r as z,a as q,w as Y,b as M,o as d,c as g,e,f as A,u as a,N as Be,g as p,h as K,i as Qt,j as D,l as Yt,k as Z,n as I,m as Me,p as L,t as J,q as Fe,s as Wt,v as Xt,x as en,y as tn,z as Q,A as nn,B as Se,C as k,D as b,E as N,F as P,G as an,H as un,I as fe,J as sn,L as ln,K as on,M as cn,O as rn,P as hn,Q as dn,R as pn,S as ve,T as mn,U as vn,V as gn}from"./vendor.fa897600.js";const xn=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function l(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerpolicy&&(r.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?r.credentials="include":c.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(c){if(c.ep)return;c.ep=!0;const r=l(c);fetch(c.href,r)}};xn();const fn="",ye=De("auth",()=>{var l;const n=z(localStorage.getItem("token"));q.defaults.headers.common.authorization=(l=n.value)!=null?l:"",Y(n,async s=>{console.log("token changed"),localStorage.setItem("token",s!=null?s:""),q.defaults.headers.common.authorization=s!=null?s:"";try{await q.get(`${fn}/auth`),u.value=!0}catch{console.log("\u043D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430(")}});const u=z(!!n);return q.interceptors.response.use(s=>s,s=>(s.response.status===401&&(console.log("\u043D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430("),u.value=!1),s)),{token:n,isAuthorized:u}}),wn={class:"fixed flex flex-row justify-between z-50 top-0 left-0 right-0 select-none text-2xl uppercase text-white font-thin rounded-b-xl bg-black bg-opacity-80 backdrop-blur-sm shadow-md px-10 py-3 tracking-widest"},bn=p("h1",null,"Energia",-1),Cn=K("\u0412\u044B\u0445\u043E\u0434"),$n=M({setup(n){const u=ye();return(l,s)=>(d(),g("header",wn,[bn,e(a(Be),{type:"success",secondary:"",onClick:s[0]||(s[0]=c=>a(u).token="")},{default:A(()=>[Cn]),_:1})]))}}),F=(n,u)=>({_tag:n,value:u});function U(n,u){return{initials:n,multiplier:u}}const ge=(...n)=>(u,l)=>({initial:u,initialUnit:l,in(s){const c=n.findIndex(o=>o.initials===this.initialUnit),r=n.findIndex(o=>o.initials===s);return c===r?this.initial:r>c?n.slice(c+1,r+1).reduce((o,{multiplier:w})=>o/w,this.initial):n.slice(r+1,c+1).reduce((o,{multiplier:w})=>o*w,this.initial)},toString(s=l){return`${this.in(s)} ${s}`}}),y=(n=void 0)=>F("breaker",n),_=(n=void 0)=>F("jumper",n),T=(n=void 0)=>F("voltmeter",n),H=n=>F("ampermeter",n),h=n=>F("resistor",n),Bn=n=>F("ac",n),Ne=n=>F("dc",n),x=n=>F("capacitor",n),W=n=>F("inductor",n),i=ge(U("\u041E\u043C"),U("\u043A\u041E\u043C",1e3)),f=ge(U("\u043F\u0424"),U("\u043D\u0424",1e3),U("\u043C\u043A\u0424",1e3)),X=ge(U("\u043C\u043A\u0413\u043D"),U("\u043C\u0413\u043D",1e3)),G=ge(U("\u043C\u0410")),Pe=[y(),_(),x({capacitance:f(.01,"\u043C\u043A\u0424")}),x({capacitance:f(.02,"\u043C\u043A\u0424")}),x({capacitance:f(.062,"\u043C\u043A\u0424")}),x({capacitance:f(.072,"\u043C\u043A\u0424")}),x({capacitance:f(.082,"\u043C\u043A\u0424")})],Te=[y(),_(),x({capacitance:f(.022,"\u043C\u043A\u0424")}),x({capacitance:f(.01,"\u043C\u043A\u0424")}),x({capacitance:f(.032,"\u043C\u043A\u0424")}),x({capacitance:f(.02,"\u043C\u043A\u0424")}),x({capacitance:f(.042,"\u043C\u043A\u0424")})],Ie=[y(),_(),x({capacitance:f(.015,"\u043C\u043A\u0424")}),x({capacitance:f(3300,"\u043F\u0424")}),x({capacitance:f(.0183,"\u043C\u043A\u0424")}),x({capacitance:f(6600,"\u043F\u0424")}),x({capacitance:f(.0216,"\u043C\u043A\u0424")})],Ue=[y(),_(),h({resistance:i(66,"\u041E\u043C")}),h({resistance:i(75,"\u041E\u043C")}),h({resistance:i(100,"\u041E\u043C")}),h({resistance:i(120,"\u041E\u043C")}),h({resistance:i(200,"\u041E\u043C")}),h({resistance:i(300,"\u041E\u043C")})],Ve=[y(),_(),x({capacitance:f(.015,"\u043C\u043A\u0424")}),x({capacitance:f(3300,"\u043F\u0424")}),x({capacitance:f(.0183,"\u043C\u043A\u0424")}),x({capacitance:f(6600,"\u043F\u0424")}),x({capacitance:f(.0216,"\u043C\u043A\u0424")})],yn=[W({inductance:X(390,"\u043C\u043A\u0413\u043D")})],je=[y(),_(),W({inductance:X(820,"\u043C\u043A\u0413\u043D")})],Oe=[y(),h({resistance:i(20,"\u041E\u043C")}),h({resistance:i(30,"\u041E\u043C")}),h({resistance:i(39,"\u041E\u043C")}),h({resistance:i(100,"\u041E\u043C")})],qe=[y(),_(),x({capacitance:f(.01,"\u043C\u043A\u0424")}),x({capacitance:f(.022,"\u043C\u043A\u0424")}),x({capacitance:f(.032,"\u043C\u043A\u0424")}),x({capacitance:f(.042,"\u043C\u043A\u0424")})],Ze=[y(),_(),W({inductance:X(390,"\u043C\u043A\u0413\u043D")})],En=[W({inductance:X(820,"\u043C\u043A\u0413\u043D")})],He=[y(),_()],Ge=[y(),W({inductance:X(1.5,"\u043C\u0413\u043D")})],Ke=[y(),_(),h({resistance:i(16,"\u041E\u043C")}),h({resistance:i(91,"\u041E\u043C")}),h({resistance:i(110,"\u041E\u043C")}),h({resistance:i(120,"\u041E\u043C")}),h({resistance:i(150,"\u041E\u043C")}),h({resistance:i(1,"\u043A\u041E\u043C")}),h({resistance:i(2,"\u043A\u041E\u043C")})],Je=[y(),_(),h({resistance:i(100,"\u041E\u043C")}),h({resistance:i(110,"\u041E\u043C")}),h({resistance:i(120,"\u041E\u043C")}),h({resistance:i(150,"\u041E\u043C")}),h({resistance:i(180,"\u041E\u043C")}),h({resistance:i(100,"\u041E\u043C")}),h({resistance:i(250,"\u041E\u043C")})],Qe=[y(),_(),h({resistance:i(100,"\u041E\u043C")}),h({resistance:i(110,"\u041E\u043C")}),h({resistance:i(120,"\u041E\u043C")}),h({resistance:i(150,"\u041E\u043C")}),h({resistance:i(180,"\u041E\u043C")}),h({resistance:i(100,"\u041E\u043C")}),h({resistance:i(250,"\u041E\u043C")})],Ye=[y(),_(),h({resistance:i(100,"\u041E\u043C")}),h({resistance:i(200,"\u041E\u043C")}),h({resistance:i(300,"\u041E\u043C")}),h({resistance:i(150,"\u041E\u043C")}),h({resistance:i(390,"\u041E\u043C")}),h({resistance:i(510,"\u041E\u043C")}),h({resistance:i(1,"\u043A\u041E\u043C")})],We=[y(),_(),h({resistance:i(16,"\u041E\u043C")}),h({resistance:i(27,"\u041E\u043C")}),h({resistance:i(47,"\u041E\u043C")}),h({resistance:i(68,"\u041E\u043C")}),h({resistance:i(82,"\u041E\u043C")}),h({resistance:i(100,"\u041E\u043C")}),h({resistance:i(1,"\u043A\u041E\u043C")})],Xe=[T()],et=[T()],tt=[T()],nt=[T()],at=[T()],ut=[T()],st=[T()],lt=[T()],ot=[T()],ct=[H({derivation:i(10,"\u041E\u043C"),maxCurrent:G(10,"\u043C\u0410")}),H({derivation:i(3.3,"\u041E\u043C"),maxCurrent:G(40,"\u043C\u0410")})],it=[H({derivation:i(10,"\u041E\u043C"),maxCurrent:G(10,"\u043C\u0410")}),H({derivation:i(3.3,"\u041E\u043C"),maxCurrent:G(40,"\u043C\u0410")})],rt=[H({derivation:i(10,"\u041E\u043C"),maxCurrent:G(10,"\u043C\u0410")}),H({derivation:i(3.3,"\u041E\u043C"),maxCurrent:G(40,"\u043C\u0410")})],ht=[H({derivation:i(1,"\u041E\u043C"),maxCurrent:G(40,"\u043C\u0410")})],me={sw1:Pe,sw2:Te,sw3:Ie,sw4A:He,sw4B:Ge,sw5:Ue,sw6:Ve,sw6Suppl:yn,sw7A:je,sw7B:Ze,sw8:Oe,sw9:qe,sw9Suppl:En,mux1:Ke,mux2:Je,mux3:Qe,mux4:Ye,mux5:We,tpv1:Xe,tpv2:et,tpv3:tt,tpv4:nt,tpv5:at,tpv6:ut,tpv7:st,tpv8:lt,tpv9:ot,a1:ct,a2:it,a3:rt,a4:ht},_n={sw1:0,sw2:0,sw3:0,sw4A:0,sw4B:0,sw5:0,sw6:0,sw6Suppl:0,sw7A:0,sw7B:0,sw8:0,sw9:0,sw9Suppl:0,mux1:0,mux2:0,mux3:0,mux4:0,mux5:0,tpv1:0,tpv2:0,tpv3:0,tpv4:0,tpv5:0,tpv6:0,tpv7:0,tpv8:0,tpv9:0,a1:1,a2:1,a3:1,a4:0,acDc:Ne({voltage:1})},we={ac:"\u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u043F\u0435\u0440\u0435\u043C\u0435\u043D\u043D\u043E\u0433\u043E \u0442\u043E\u043A\u0430",voltmeter:"\u0432\u043E\u043B\u044C\u0442\u043C\u0435\u0442\u0440",ampermeter:"\u0448\u0443\u043D\u0442",capacitor:"\u043A\u043E\u043D\u0434\u0435\u043D\u0441\u0430\u0442\u043E\u0440",dc:"\u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u043F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u043E\u0433\u043E \u0442\u043E\u043A\u0430",inductor:"\u043A\u0430\u0442\u0443\u0448\u043A\u0430 \u0438\u043D\u0434\u0443\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u0438",resistor:"\u0440\u0435\u0437\u0438\u0441\u0442\u043E\u0440",get breaker(){return`\u0440\u0430\u0437\u0440\u044B\u0432${window.a?" \u043E\u0447\u043A\u0430":""}`},jumper:"\u043F\u0435\u0440\u0435\u043C\u044B\u0447\u043A\u0430"},be=["tpv1","tpv2","tpv3","tpv4","tpv5","tpv6","tpv7","tpv8","tpv9"],kn=["a1","a2","a3","a4"],Ce=([n,...u])=>n.toUpperCase()+u.join(""),An={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Rn=p("path",{fill:"currentColor",d:"M23 0h2v7h-2zM23 42h2v7h-2z"},null,-1),Sn=p("circle",{cx:"24",cy:"38",r:"4",stroke:"currentColor","stroke-width":"2"},null,-1),Ln=p("circle",{cx:"24",cy:"10",r:"4",stroke:"currentColor","stroke-width":"2"},null,-1),zn=p("path",{stroke:"currentColor","stroke-width":"2",d:"m22.174 35.563-15-22"},null,-1),Dn=[Rn,Sn,Ln,zn];function Mn(n,u){return d(),g("svg",An,Dn)}var Fn={render:Mn};const Nn={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Pn=p("path",{fill:"currentColor",d:"M23 0h2v5h-2zM23 43h2v5h-2z"},null,-1),Tn=p("path",{stroke:"currentColor","stroke-width":"2",d:"M16 6h16v36H16z"},null,-1),In=[Pn,Tn];function Un(n,u){return d(),g("svg",Nn,In)}var Vn={render:Un};const jn={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},On=p("path",{fill:"currentColor",d:"M23 0h2v7h-2zM23 42h2v7h-2z"},null,-1),qn=p("circle",{cx:"24",cy:"24",r:"17",stroke:"currentColor","stroke-width":"2"},null,-1),Zn=p("path",{d:"M14 24c1.15-3.773 4.828-9.056 10.345 0S33.08 27.773 34 24",stroke:"currentColor","stroke-width":"2"},null,-1),Hn=[On,qn,Zn];function Gn(n,u){return d(),g("svg",jn,Hn)}var Kn={render:Gn};const Jn={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Qn=Qt('<path fill="currentColor" d="M23 0h2v7h-2zM23 42h2v7h-2z"></path><circle cx="24" cy="24" r="17" stroke="currentColor" stroke-width="2"></circle><path d="M24 15v18m-7-11 7-7-7 7Zm7-7 7 7-7-7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path fill="currentColor" d="M42 4h2v8h-2z"></path><path fill="currentColor" d="M39 7h8v2h-8zM39 39h8v2h-8z"></path>',5),Yn=[Qn];function Wn(n,u){return d(),g("svg",Jn,Yn)}var Xn={render:Wn};const ea={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ta=p("path",{fill:"currentColor",d:"M23 0h2v17h-2zM6 19v-2h36v2zM6 31v-2h36v2zM23 31h2v17h-2z"},null,-1),na=[ta];function aa(n,u){return d(),g("svg",ea,na)}var ua={render:aa};const sa={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},la=p("path",{d:"M24 48v-6.14s-6 0-6-4.465 6-4.465 6-4.465-6 0-6-4.465S24 24 24 24s-6 0-6-4.465 6-4.465 6-4.465-6 0-6-4.465 6-4.465 6-4.465V0M13 6v10M13 19v10M13 32v10",stroke:"currentColor","stroke-width":"2"},null,-1),oa=[la];function ca(n,u){return d(),g("svg",sa,oa)}var ia={render:ca};const ra={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ha=p("path",{fill:"currentColor",d:"M23 9h2v15h-2z"},null,-1),da=p("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"},null,-1),pa=p("circle",{cx:"24",cy:"6",r:"4",stroke:"currentColor","stroke-width":"2"},null,-1),ma=[ha,da,pa];function va(n,u){return d(),g("svg",ra,ma)}var ga={render:va};const xa={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fa=p("path",{fill:"currentColor",d:"M23 0h2v7h-2zM23 42h2v7h-2z"},null,-1),wa=p("circle",{cx:"24",cy:"24",r:"17",stroke:"currentColor","stroke-width":"2"},null,-1),ba=p("path",{d:"M23.416 14.96h1.416L31.912 32h-1.776l-2.208-5.328h-7.656L18.088 32h-1.8l7.128-17.04Zm4.128 10.392-3.432-8.424-3.48 8.424h6.912Z",fill:"currentColor"},null,-1),Ca=[fa,wa,ba];function $a(n,u){return d(),g("svg",xa,Ca)}var Ba={render:$a};const ya=M({props:{type:null,orientation:{default:"vertical"}},setup(n){const u=D(()=>Yt.match(n.type).with("breaker",()=>Fn).with("resistor",()=>Vn).with("ampermeter",()=>Ba).with("ac",()=>Kn).with("dc",()=>Xn).with("capacitor",()=>ua).with("inductor",()=>ia).with("voltmeter",()=>ga).with("jumper",()=>"div").exhaustive());return(l,s)=>(d(),Z(Me(u.value),{class:I(["w-12 h-12",n.orientation==="horizontal"&&"rotate-90"])},null,8,["class"]))}}),Ee=n=>{switch(n._tag){case"resistor":return n.value.resistance.toString();case"capacitor":return n.value.capacitance.toString();case"inductor":return n.value.inductance.toString();case"ampermeter":return`${n.value.derivation.toString()} (${n.value.maxCurrent.toString()})`;default:return}},m=(n,u,l=[])=>D(()=>({bind:{selectable:l.length>1,onSelect:s=>{u.value=s},type:me[n][u.value]._tag,options:l,index:u.value,label:Ee(me[n][u.value]),name:n}})),Le=(n,u)=>D(()=>({bind:{selectable:!1,type:me[n][u.value]._tag,label:Ee(me[n][u.value])},displaySupplNode:!0})),Ea={key:0,class:"text-blue-600 font-bold uppercase"},_a={key:1},ka={key:5,class:"absolute -top-1/2 -left-2 -translate-x-full z-10"},t=M({props:{hasTop:{type:Boolean},hasBottom:{type:Boolean},hasLeft:{type:Boolean},hasRight:{type:Boolean},selectable:{type:Boolean},type:null,orientation:{default:"vertical"},options:null,label:null,showLabel:{type:Boolean,default:!0},name:null,index:null,labelPlacement:{default:"left"}},emits:["select"],setup(n,{emit:u}){const l=o=>{u("select",o)},s={stick:"absolute w-[2px] h-6 bg-black",selected:"bg-blue-200 !select-none"},c={class:s.selected},r=D(()=>{var $;const o=($=n.options)==null?void 0:$.map(({_tag:B,value:v},E)=>{const C=we[B];return{label:Ce(C),key:E,tag:B,element:v}}),w=new Map;return o==null||o.forEach(({label:B,key:v,element:E,tag:C})=>{var V;const R=Ee(F(C,E));return w.has(C)?(V=w.get(C))==null?void 0:V.push({label:R!=null?R:"",key:v,props:v===n.index?c:{}}):w.set(C,[{label:R!=null?R:"",key:v,props:v===n.index?c:{}}])}),[...w.entries()].map(([B,v])=>v.length>1?{label:Ce(we[B]),key:B,children:v,props:v.some(({key:E})=>E===n.index)?c:{}}:{label:Ce(we[B]),key:v[0].key,props:v[0].key===n.index?c:{}})});return(o,w)=>(d(),Z(Me(n.selectable?a(Wt):"div"),{trigger:"click",options:n.selectable?r.value:[],onSelect:l,selected:n.index},{default:A(()=>[p("div",{class:I(["min-w-12 min-h-12 w-12 h-12 relative flex-shrink-0 select-none",n.selectable&&"cursor-pointer outline-dashed outline-1 outline-offset-[-2px] rounded-lg outline-zinc-400 hover:outline-blue-500 hover:text-blue-700 hover:bg-blue-100 group-focus:bg-blue-500 transition-colors duration-200"])},[n.hasTop||n.orientation==="vertical"&&n.type==="jumper"?(d(),g("div",{key:0,class:I(["left-[calc(50%-1px)]",s.stick])},null,2)):L("",!0),n.hasBottom||n.orientation==="vertical"&&n.type==="jumper"?(d(),g("div",{key:1,class:I(["top-1/2 left-[calc(50%-1px)]",s.stick])},null,2)):L("",!0),n.hasLeft||n.orientation==="horizontal"&&n.type==="jumper"?(d(),g("div",{key:2,class:I(["rotate-90 left-[calc(25%-1px)] top-1/4",s.stick])},null,2)):L("",!0),n.hasRight||n.orientation==="horizontal"&&n.type==="jumper"?(d(),g("div",{key:3,class:I(["rotate-90 left-[calc(75%-1px)] top-1/4",s.stick])},null,2)):L("",!0),n.type&&n.type!=="jumper"?(d(),Z(ya,{key:4,type:n.type,orientation:n.orientation},null,8,["type","orientation"])):L("",!0),p("div",{class:I(["absolute text-zinc-600 whitespace-nowrap",{"top-1/2 -left-2 -translate-y-1/2 -translate-x-full text-right":n.labelPlacement==="left","top-1/2 -right-2 translate-x-full -translate-y-1/2 text-left":n.labelPlacement==="right","-top-2 left-1/2 -translate-x-1/2 -translate-y-full text-center":n.labelPlacement==="top"}])},[n.name?(d(),g("h4",Ea,J(n.name),1)):L("",!0),n.label&&n.showLabel?(d(),g("div",_a,J(n.label),1)):L("",!0)],2),o.$slots.form?(d(),g("div",ka,[Fe(o.$slots,"form")])):L("",!0)],2)]),_:3},8,["options","selected"]))}}),$e="",_e=De("circuit",()=>{const n=Xt(),u=en(),l=tn(xe({},_n)),s=z(),c=z({channel1:"tpv1",channel2:"tpv2"}),r=async()=>{n.start();try{await q.post(`${$e}/state`,l);const o=await q.get(`${$e}/channels?channel1=${c.value.channel1}&channel2=${c.value.channel2}`);s.value=o.data}catch(o){u.error("\u0427\u0442\u043E-\u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A \u043F\u0440\u0438 \u043F\u043E\u043F\u044B\u0442\u043A\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435. \u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443"),console.error(o)}finally{n.finish()}};return Y(Object.values(Q(l)),r),Y(Object.values(Q(c.value)),async()=>{console.log("reloading channels"),n.start();try{const o=await q.get(`${$e}/channels?channel1=${c.value.channel1}&channel2=${c.value.channel2}`);s.value=o.data}catch(o){u.error("\u0427\u0442\u043E-\u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A \u043F\u0440\u0438 \u043F\u043E\u043F\u044B\u0442\u043A\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435. \u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443"),console.error(o)}finally{n.finish()}},{immediate:!0}),Re(xe({},Q(l)),{channels:s,selectedChannels:c,sendState:r})}),Aa={class:"w-36 flex flex-col p-2 bg-zinc-200 shadow-lg rounded-lg z-50"},Ra=K("\u041F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u044B\u0439"),Sa=K("\u041F\u0435\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0439"),La=p("label",{class:"text-xs text-zinc-500"},"\u0410\u043C\u043F\u043B\u0438\u0442\u0443\u0434\u0430, \u0412",-1),za={key:0,class:"text-xs text-zinc-500"},Da=K("\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C"),Ma=M({setup(n){const u=_e(),{sendState:l}=u,{acDc:s}=Q(u),c=({focused:$,checked:B})=>{const v={};return B?(v.background=k.green[400],$&&(v.boxShadow=`0 0 0 2px ${k.green[400]}`)):(v.background=k.blue[400],$&&(v.boxShadow=`0 0 0 2px ${k.blue[400]}`)),v},r=$=>{$?s.value=Ne({voltage:1}):s.value=Bn({voltage:1,frequency:1e3})},o=D(()=>s.value._tag==="ac"?{min:0,max:10}:{min:-5,max:5}),w=D(()=>s.value._tag==="dc");return($,B)=>(d(),g("div",Aa,[e(a(nn),{value:w.value,"rail-style":c,"onUpdate:value":r,class:"mb-3"},{checked:A(()=>[Ra]),unchecked:A(()=>[Sa]),_:1},8,["value"]),La,e(a(Se),{class:"mb-2",value:a(s).value.voltage,"onUpdate:value":B[0]||(B[0]=v=>a(s).value.voltage=v),min:o.value.min,max:o.value.max,step:1},null,8,["value","min","max"]),w.value?L("",!0):(d(),g("label",za,"\u0427\u0430\u0441\u0442\u043E\u0442\u0430, \u0413\u0446")),w.value?L("",!0):(d(),Z(a(Se),{key:1,class:"mb-3",value:a(s).value.frequency,"onUpdate:value":B[1]||(B[1]=v=>a(s).value.frequency=v),min:1,max:99999},null,8,["value"])),e(a(Be),{type:"info",secondary:"",onClick:a(l)},{default:A(()=>[Da]),_:1},8,["onClick"])]))}}),Fa={class:"mx-auto max-w-full w-fit overflow-hidden overflow-x-visible px-32 py-28"},Na={class:"grid grid-cols-[repeat(21,minmax(0,3rem))] w-fit min-w-[calc(21*3rem)]"},Pa=M({setup(n){const u=_e(),{sw1:l,sw2:s,sw3:c,sw4A:r,sw4B:o,sw5:w,sw6:$,sw6Suppl:B,sw7A:v,sw7B:E,sw8:C,sw9:R,sw9Suppl:V,tpv1:ee,tpv2:te,tpv3:ne,tpv4:ae,tpv5:ue,tpv6:se,tpv7:le,tpv8:oe,tpv9:ce,mux1:ie,mux2:re,mux3:he,mux4:de,mux5:pe,a1:S,a2:dt,a3:pt,a4:mt,acDc:vt}=Q(u),gt=m("sw1",l,Pe),xt=m("sw2",s,Te),ft=m("sw3",c,Ie),wt=m("sw4A",r,He),bt=m("sw4B",o,Ge),Ct=m("sw5",w,Ue),$t=m("sw6",$,Ve),j=Le("sw6Suppl",B),Bt=m("sw7A",v,je),yt=m("sw7B",E,Ze),Et=m("sw8",C,Oe),_t=m("sw9",R,qe),O=Le("sw9Suppl",V),kt=m("mux1",ie,Ke),At=m("mux2",re,Je),Rt=m("mux3",he,Qe),St=m("mux4",de,Ye),Lt=m("mux5",pe,We),zt=m("tpv1",ee,Xe),Dt=m("tpv2",te,et),Mt=m("tpv3",ne,tt),Ft=m("tpv4",ae,nt),Nt=m("tpv5",ue,at),Pt=m("tpv6",se,ut),Tt=m("tpv7",le,st),It=m("tpv8",oe,lt),Ut=m("tpv9",ce,ot),Vt=m("a1",S,ct),jt=m("a2",dt,it),Ot=m("a3",pt,rt),qt=m("a4",mt,ht);return(nu,au)=>(d(),g("div",Fa,[p("div",Na,[e(t),e(t,{hasRight:"",hasBottom:""}),e(t,{hasLeft:"",hasRight:""}),e(t,{hasLeft:"",hasRight:""}),e(t,b({hasLeft:"",hasRight:"",hasBottom:""},a(Mt).bind,{labelPlacement:"top"}),null,16),e(t,{hasLeft:"",hasRight:""}),e(t,{hasLeft:"",hasRight:""}),e(t,{hasLeft:"",hasRight:"",hasBottom:""}),e(t,{hasLeft:"",hasRight:""}),e(t,{hasLeft:"",hasRight:""}),e(t,{hasLeft:"",hasRight:"",hasBottom:""}),e(t,{hasLeft:"",hasRight:""}),e(t,{hasLeft:"",hasRight:""}),e(t,b(a(Ct).bind,{orientation:"horizontal",labelPlacement:"top"}),null,16),e(t,{hasLeft:"",hasRight:""}),e(t,b({hasLeft:"",hasRight:"",hasBottom:""},a(Ft).bind,{labelPlacement:"top"}),null,16),e(t,{hasLeft:"",hasRight:""}),e(t,{hasLeft:"",hasRight:""}),e(t,b(a(St).bind,{orientation:"horizontal",labelPlacement:"top"}),null,16),e(t,{hasLeft:"",hasRight:""}),e(t,b({hasLeft:"",hasBottom:""},a(Nt).bind,{labelPlacement:"top"}),null,16),e(t,{hasRight:"",hasBottom:""}),e(t,{hasTop:"",hasLeft:"",hasBottom:""}),e(t),e(t),e(t,{hasTop:"",hasBottom:""}),e(t),e(t),e(t,N(P(a(wt).bind)),null,16),e(t),e(t),e(t,b(a(Bt).bind,{labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t,N(P(a(yt).bind)),null,16),e(t),e(t),e(t),e(t),e(t,N(P(a(Lt).bind)),null,16),e(t,N(P(a(gt).bind)),null,16),e(t,b(a(Et).bind,{labelPlacement:"right"}),null,16),e(t),e(t),e(t,b(a(bt).bind,{labelPlacement:"right"}),null,16),e(t),e(t),e(t,{hasTop:"",hasBottom:""}),e(t),e(t),e(t,b({hasTop:"",hasBottom:""},a(Pt).bind,{labelPlacement:"right",orientation:"horizontal"}),null,16),e(t),e(t),e(t),e(t),e(t,b({hasTop:"",hasBottom:""},a(It).bind,{orientation:"horizontal",labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t,b(a(Ot).bind,{showLabel:!1}),null,16),e(t,{hasTop:"",hasRight:""}),e(t,{hasTop:"",hasLeft:"",hasBottom:""}),e(t),e(t),e(t,{hasTop:"",hasLeft:"",hasRight:""}),e(t),e(t,{hasRight:a(O).displaySupplNode,hasBottom:a(O).displaySupplNode},null,8,["hasRight","hasBottom"]),e(t,{hasTop:"",hasBottom:"",hasLeft:a(O).displaySupplNode},null,8,["hasLeft"]),e(t),e(t),e(t,b(a(xt).bind,{labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t,N(P(a(ft).bind)),null,16),e(t),e(t),e(t),e(t),e(t,{hasTop:"",hasLeft:"",hasRight:""}),e(t),e(t,b(a(Dt).bind,{orientation:"horizontal",hasTop:"",hasBottom:"",labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t,N(P(a(O).bind)),null,16),e(t,b(a(_t).bind,{labelPlacement:"right"}),null,16),e(t),e(t),e(t,b({hasTop:"",hasBottom:""},a(Tt).bind,{labelPlacement:"right",orientation:"horizontal"}),null,16),e(t),e(t),e(t),e(t),e(t,b({hasTop:"",hasBottom:""},a(Ut).bind,{orientation:"horizontal",labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t),e(t),e(t,N(P(a(kt).bind)),null,16),e(t),e(t),e(t),e(t),e(t,{hasTop:a(O).displaySupplNode,hasRight:a(O).displaySupplNode},null,8,["hasTop","hasRight"]),e(t,{hasTop:"",hasBottom:"",hasLeft:a(O).displaySupplNode},null,8,["hasLeft"]),e(t),e(t),e(t,b(a(At).bind,{labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t,N(P(a(Rt).bind)),null,16),e(t),e(t),e(t),e(t),e(t),e(t),e(t,b(a(zt).bind,{orientation:"horizontal",hasTop:"",hasBottom:"",labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t,{hasRight:a(j).displaySupplNode,hasBottom:a(j).displaySupplNode},null,8,["hasRight","hasBottom"]),e(t,{hasTop:"",hasBottom:"",hasLeft:a(j).displaySupplNode},null,8,["hasLeft"]),e(t),e(t),e(t,b(a(Vt).bind,{showLabel:!1,labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t,b(a(jt).bind,{showLabel:!1,labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t),e(t),e(t,b(a(qt).bind,{showLabel:!1,labelPlacement:"right"}),null,16),e(t),e(t),e(t),e(t),e(t,N(P(a(j).bind)),null,16),e(t,b(a($t).bind,{labelPlacement:"right"}),null,16),e(t),e(t),e(t,{hasTop:"",hasLeft:"",hasRight:""}),e(t),e(t),e(t),e(t),e(t,{hasTop:"",hasLeft:"",hasRight:""}),e(t),e(t),e(t),e(t),e(t),e(t),e(t,{type:a(vt)._tag,name:"E",labelPlacement:"right"},{form:A(()=>[e(Ma)]),_:1},8,["type"]),e(t),e(t),e(t),e(t),e(t,{hasTop:a(j).displaySupplNode,hasRight:a(j).displaySupplNode},null,8,["hasTop","hasRight"]),e(t,{hasTop:"",hasBottom:"",hasLeft:a(j).displaySupplNode},null,8,["hasLeft"]),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t,{hasTop:"",hasRight:"",hasLeft:""}),e(t),e(t),e(t),e(t),e(t),e(t,{hasLeft:"",hasTop:"",hasRight:""}),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t),e(t)])]))}}),Ta={class:"relative w-fit"},Ia={class:"text-zinc-600"},Ua={class:"absolute bottom-3 left-8 text-zinc-500"},Va={class:"absolute bottom-3 right-8 text-right text-zinc-500"},ze=M({props:{value:null,unit:null,min:null,max:null,options:null,modelValue:null,status:null},emits:["update:modelValue"],setup(n,{emit:u}){let l=z(!1);const s=o=>{u("update:modelValue",o),l.value=!1},c=D(()=>n.options.map(o=>({value:o,label:o}))),r=D(()=>Math.max(Math.min((n.value-n.min)/(n.max-n.min)*100,100),0));return(o,w)=>(d(),g("div",{class:"flex flex-col w-32 items-center space-y-3 cursor-pointer",onClick:w[0]||(w[0]=$=>l.value=!l.value)},[p("div",Ta,[e(a(an),{type:"dashboard",status:n.status,percentage:r.value},{default:A(()=>[p("span",{class:I(["text-xl text-center",Math.abs(parseFloat(n.value))>n.max&&"text-rose-500"])},[K(J(n.value)+" ",1),p("span",Ia,J(n.unit),1)],2)]),_:1},8,["status","percentage"]),p("span",Ua,J(n.min),1),p("span",Va,J(n.max),1)]),e(a(un),{options:c.value,"onUpdate:value":s,value:n.modelValue,show:l.value},null,8,["options","value","show"])]))}});var ja=(n,u)=>{const l=n.__vccOpts||n;for(const[s,c]of u)l[s]=c;return l};const Oa={class:"bg-zinc-700 w-full rounded-2xl shadow-2xl p-4 aspect-[4/3] grid grid-rows-[1fr,10px] grid-cols-[10px,1fr,10px] gap-x-6 gap-y-3"},qa={class:"bg-zinc-200 w-full h-full rounded-lg shadow-[inset_2px_2px_10px_2px_rgba(0,0,0,0.3)] col-start-2 row-start-1"},Za=M({props:{xRange:null,channel1Range:null,channel2Range:null,x:null,channel1:null,channel2:null},emits:["update:xValue","update:channel1Range","update:channel2Range"],setup(n,{emit:u}){let l=z(!0);const s=(c,r)=>{if(!l.value&&c==="channel1"){u("update:channel1Range",[Math.min(...r),Math.max(...r)]),u("update:channel2Range",[Math.min(...r),Math.max(...r)]);return}u(`update:${c}Range`,[Math.min(...r),Math.max(...r)])};return Y(l,c=>{c||u("update:channel2Range",n.channel1Range)}),(c,r)=>(d(),g("div",Oa,[e(a(fe),{vertical:"",class:"blue-rail",placement:"left",min:n.channel1.min,max:n.channel1.max,value:n.channel1Range,step:1,"onUpdate:value":r[0]||(r[0]=o=>s("channel1",o)),range:""},null,8,["min","max","value"]),e(a(fe),{vertical:"",class:"amber-rail col-start-3 -translate-x-1/2",placement:"right",min:n.channel2.min,max:n.channel2.max,value:n.channel2Range,step:1,"onUpdate:value":r[1]||(r[1]=o=>s("channel2",o)),range:"",disabled:!l.value},null,8,["min","max","value","disabled"]),p("div",qa,[Fe(c.$slots,"default",{},void 0,!0)]),e(a(fe),{class:"row-span-1 col-span-1 row-start-2 col-start-2",min:n.x.min,max:n.x.max,value:n.xRange,step:1,"onUpdate:value":r[2]||(r[2]=o=>s("x",o)),range:""},null,8,["min","max","value"]),e(a(sn),{class:"row-start-2 col-start-3 -translate-x-1/2 -translate-y-1/2",checked:l.value,"onUpdate:checked":r[3]||(r[3]=o=>l.value=o)},null,8,["checked"])]))}});var Ha=ja(Za,[["__scopeId","data-v-4c7ea5df"]]);const Ga={class:"w-full mx-auto container max-w-4xl flex flex-col md:flex-row items-center gap-5 px-6"},Ka={class:"flex flex-col space-y-5"},Ja=M({setup(n){const{channels:u,selectedChannels:l,acDc:s,sendState:c}=Q(_e());c.value();const r=[...be,...kn],o=z([-5,5]),w=z([-5,5]);let $=z([0,256]);Y(s,()=>{s.value._tag==="dc"?$.value=[2,3]:$.value=[0,256]},{immediate:!0});const B=D(()=>{const E=be.includes(l.value.channel1)?10:s.value._tag==="ac"?35:45;return{min:-E,max:E}}),v=D(()=>{const E=be.includes(l.value.channel2)?10:s.value._tag==="ac"?35:45;return{min:-E,max:E}});return(E,C)=>{var R,V,ee,te,ne,ae,ue,se,le,oe,ce,ie,re,he,de,pe;return d(),g("div",Ga,[p("div",Ka,[e(ze,{options:r,value:((V=(R=a(u))==null?void 0:R.channel1.average)!=null?V:0).toFixed(2),min:(te=(ee=a(u))==null?void 0:ee.channel1.min)!=null?te:0,max:(ae=(ne=a(u))==null?void 0:ne.channel1.max)!=null?ae:10,unit:(se=(ue=a(u))==null?void 0:ue.channel1.unit)!=null?se:"",modelValue:a(l).channel1,"onUpdate:modelValue":C[0]||(C[0]=S=>a(l).channel1=S)},null,8,["value","min","max","unit","modelValue"]),e(ze,{options:r,status:"warning",value:((oe=(le=a(u))==null?void 0:le.channel2.average)!=null?oe:0).toFixed(2),min:(ie=(ce=a(u))==null?void 0:ce.channel2.min)!=null?ie:0,max:(he=(re=a(u))==null?void 0:re.channel2.max)!=null?he:10,unit:(pe=(de=a(u))==null?void 0:de.channel2.unit)!=null?pe:"",modelValue:a(l).channel2,"onUpdate:modelValue":C[1]||(C[1]=S=>a(l).channel2=S)},null,8,["value","min","max","unit","modelValue"])]),e(Ha,{xRange:$.value,"onUpdate:xRange":C[2]||(C[2]=S=>$.value=S),channel1Range:o.value,"onUpdate:channel1Range":C[3]||(C[3]=S=>o.value=S),channel2Range:w.value,"onUpdate:channel2Range":C[4]||(C[4]=S=>w.value=S),channel1:B.value,channel2:v.value,x:{min:0,max:1024}},{default:A(()=>[a(u)?(d(),Z(a(ln),{key:0,class:"h-full","chart-data":{labels:Object.keys(a(u).channel1.values),datasets:[{data:a(u).channel1.values,fill:!1,borderColor:a(k).blue[500],yAxisID:"channel1"},{data:a(u).channel2.values,fill:!1,borderColor:a(k).amber[500],yAxisID:"channel2"}]},options:{elements:{point:{radius:0}},legend:{display:!1},tooltips:{enabled:!1},scales:{x:{min:$.value[0],max:$.value[1]},channel1:{min:o.value[0],max:o.value[1],position:"left",grid:{color:a(k).transparent}},channel2:{min:w.value[0],max:w.value[1],position:"right",grid:{color:a(k).transparent}},channelGhost:{min:-10,max:10,ticks:{display:!1,major:{enabled:!1},stepSize:1,color:a(k).transparent},drawBorder:!1,grid:{color:a(k).zinc[400],borderColor:a(k).transparent,drawTicks:!1}}},animation:{duration:350}}},null,8,["chart-data","options"])):L("",!0)]),_:1},8,["xRange","channel1Range","channel2Range","channel1","channel2"])])}}}),Qa=["onSubmit"],Ya=K("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C"),Wa=K("\u041F\u0440\u0438\u0441\u0442\u0443\u043F\u0438\u0442\u044C \u043A \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044E"),Xa=M({setup(n){const u=ye(),l=z(""),s=()=>{u.token=l.value};return(c,r)=>(d(),g("form",{class:"mx-auto max-w-2xl container text-center space-y-3 flex flex-col",onSubmit:rn(s,["prevent"])},[e(a(on),null,{default:A(()=>[Ya]),_:1}),e(a(cn),{placeholder:"\u0412\u0430\u0448 \u043F\u0430\u0440\u043E\u043B\u044C",value:l.value,"onUpdate:value":r[0]||(r[0]=o=>l.value=o)},null,8,["value"]),e(a(Be),{type:"primary"},{default:A(()=>[Wa]),_:1})],40,Qa))}}),eu={class:"w-full mx-auto pt-16 pb-32"},tu=M({setup(n){const u=ye();return(l,s)=>(d(),Z(a(pn),null,{default:A(()=>[e(a(dn),null,{default:A(()=>[p("div",eu,[e($n),a(u).isAuthorized?(d(),g(hn,{key:1},[e(Pa),e(Ja)],64)):(d(),Z(Xa,{key:0}))])]),_:1})]),_:1}))}});ve.register(...mn);ve.overrides.line.plugins={legend:{display:!1}};ve.overrides.line.scales.x={grid:{color:k.zinc[600]}};ve.overrides.line.scales.y={grid:{color:k.zinc[600]}};vn(tu).use(gn()).mount("#root");
